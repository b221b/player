<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä</title>

    <link rel="icon" href="shit/icon2.png" sizes="190x190">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
            background: #121212;
            color: #fff;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        ::-webkit-scrollbar {
            width: 10px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–ª–µ—Å–∏–∫–∞ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        ::-webkit-scrollbar-thumb {
            background-color: #cecece;
            border-radius: 10px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç—Ä–µ–∫–∞ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        ::-webkit-scrollbar-track {
            background-color: #494949;
            border-radius: 10px;
        }
    </style>

</head>

<body>
    <script –∞–≤—Ç–æ–ø–∞—É–∑–∞ —Ç—Ä–µ–∫–æ–≤>
        window.addEventListener('load', function () {
            var audioPlayers = document.querySelectorAll('.audio-player');
            audioPlayers.forEach(function (audio) {
                audio.pause(); // Pause all audio players
            });
        });

        var audioPlayers = document.querySelectorAll('.audio-player');
        audioPlayers.forEach(function (audio) {
            audio.muted = true;
        });
    </script>

    <!-- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì-  ‚Üì -->

    <!-- --------------------------+
    |   –í–µ—Ä—Ö–Ω—è—è –∏ –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª–∏   |
    +--------------------------- -->

    <div –í–µ—Ä—Ö–Ω—è—è –∏ –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª–∏>
        
        <style>
            .top-panel {
                display: flex;
                align-items: center;
                height: 60px;
                background-color: #181818;
                padding-right: 50px;
                /* –ú–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å—Ç—É–ø –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é */
                padding-left: 20px;
                /* –ù—É–∂–µ–Ω –æ—Ç—Å—Ç—É–ø, –µ—Å–ª–∏ –ª–æ–≥–æ –ø—Ä–∏–ª–∏–ø–∞–µ—Ç –∫ –∫—Ä–∞—é */
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —à–∏—Ä–∏–Ω—É –Ω–∞ 100% */
                z-index: 10;
            }

            .top-panel .login-button {
                background-color: #1db954;
                border: none;
                color: white;
                padding: 10px 30px;
                border-radius: 500px;
                font-weight: 500;
                text-transform: uppercase;
                transition: background-color 0.3s ease;
                cursor: pointer;
                margin-right: 3%;
            }

            .top-panel .login-button:hover {
                background-color: #1ed760;
            }

            .top-panel .logo {
                flex-grow: 1;
                /* –î–∞–µ—Ç –ª–æ–≥–æ—Ç–∏–ø—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–Ω–∏–º–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
                font-size: 24px;
                /* –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –ø–æ –≤–∞—à–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é */
                font-weight: 700;
                /* –ë–æ–ª–µ–µ –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ—Ç–∏–ø–∞ Spotify */
                color: #1db954;
                /* –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç –ª–æ–≥–æ—Ç–∏–ø–∞ Spotify */
                padding-left: 50px;
                /* –û—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞ */
            }

            /* –ë—É—Ä–≥–µ—Ä–Ω–æ–µ –º–µ–Ω—é —Å—Ç–∏–ª–∏ */
            .burger-menu-button {
                display: non;
                cursor: pointer;
                font-size: 25px;
            }

            .burger-menu-button {
                display: block;
                z-index: 11;
                display: block;
                margin-right: 20px;
                cursor: pointer;
                font-size: 25px;
                z-index: 100;
                color: #fff;

            }

            .search-container {
                position: relative;
                margin-right: 24px;
            }

            .search-container input[type="text"] {
                width: 300px;
                padding: 12px 24px 12px 48px;
                border: 1px solid #535353;
                background-color: #121212;
                color: white;
                border-radius: 500px;
                outline: none;
                transition: all 0.3s ease-in-out;
            }

            .search-container input[type="text"]::placeholder {
                color: #ccc;
            }

            .search-container button {
                position: absolute;
                top: 50%;
                left: 16px;
                transform: translateY(-50%);
                width: 24px;
                height: 24px;
                border: none;
                background-color: transparent;
                cursor: pointer;
                color: #ccc;
            }

            .sidebar {
                position: fixed;
                top: 60px;
                left: 0;
                width: 300px;
                height: 100vh;
                background-color: #181818;
                color: #b3b3b3;
                padding: 20px;
                overflow-y: auto;
                transform: translateX(-100%);
                transition: transform 0.3s;
                z-index: 99;
                bottom: 90px;
            }

            /* –°—Ç–∏–ª—å –¥–ª—è —Å–¥–≤–∏–≥–∞–Ω–∏—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤–Ω—É—Ç—Ä—å —ç–∫—Ä–∞–Ω–∞ */
            .active-menu {
                transform: translateX(0);
            }

            .sidebar img {
                height: 40px;
            }

            .sidebar button {
                display: flex;
                align-items: center;
                width: 100%;
                background: none;
                border: none;
                color: inherit;
                padding: 10px 0;
                cursor: pointer;
                font-size: 16px;
                transition: color 0.3s ease;
            }

            .sidebar button:hover {
                color: #fff;
            }

            .sidebar button img {
                margin-right: 20px;
            }

            /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Å–ø–∏—Å–∫–æ–≤ –≤ sidebar */
            .sidebar h3 {
                font-size: 16px;
                text-transform: uppercase;
                margin-bottom: 15px;
                padding-left: 20px;
                /* –ß—Ç–æ–±—ã –≤—ã—Ä–æ–≤–Ω—è—Ç—å —Ç–µ–∫—Å—Ç —Å –∫–Ω–æ–ø–∫–∞–º–∏ */
            }

            .sidebar ul {
                list-style: none;
                padding: 0;
                margin: 0;
            }

            .sidebar ul li {
                padding: 10px 20px;
            }

            .sidebar ul li:hover {
                background-color: #282828;
            }

            /* –°—Ç–∏–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –º–µ–Ω—é */
            .active-menu {
                transform: translateX(0);
            }

            li {
                color: #fff;
                font-size: 16px;
                padding: 10px;
            }

            li a {
                display: block;
                color: #949494;
                text-decoration: none;
            }


            @media (max-width: 768px) {
                .top-panel {
                    justify-content: space-between;
                    /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å flex-start –Ω–∞ space-between */
                    padding-right: 20px;
                    padding-left: 20px;
                }

                .top-panel .logo {
                    z-index: 9;
                    margin: 0 15px;
                }

                .search-container input[type="text"] {
                    width: 150px;
                }

                .top-panel .login-button {
                    position: absolute;
                    right: 50px;
                    z-index: 10;
                }

                .search-container {
                    position: absolute;
                    left: 50%;
                    transform: translateX(-50%);
                    margin-right: 0;
                }

                .search-container button {
                    z-index: 12;
                }


            }
        </style>

        <div class="top-panel">
            <div class="burger-menu-button" onclick="toggleSidebar()">‚ò∞</div>
            <div class="logo">Sportify</div>
            <!-- <div class="search-container">
            <button onclick="toggleSearch()">üîç</button>
            <input id="search-input" type="text" placeholder="–ü–æ–∏—Å–∫...">
        </div> -->
            <button class="login-button" onclick="window.location.href = 'logreg.html'">–í–æ–π—Ç–∏</button>
        </div>

        <div class="sidebar">
            <button onclick="window.location.href = 'index.html'"><img src="shit/house2.png">–ì–ª–∞–≤–Ω–∞—è</button>
            <button onclick="window.location.href = 'profile.html'"><img src="shit/user2.png">–ü—Ä–æ—Ñ–∏–ª—å</button>
            <button onclick="window.location.href = 'playlists.html'"><img src="shit/playlist2.png">–ü–ª–µ–π–ª–∏—Å—Ç—ã</button>
            <button onclick="window.location.href = 'video.html'"><img src="shit/–≤–∏–¥–µ–æ.png">–í–∏–¥–µ–æ</button>
            <img src="shit/–ø–æ–ª–æ—Å–∞4.png" alt="" width="100%">
            <button onclick="window.location.href = 'chat.html'"><img src="shit/chat2.png">–°–æ–æ–±—â–µ–Ω–∏—è</button>
            <button onclick="window.location.href = 'author.html'"><img src="shit/group.png">–ê–≤—Ç–æ—Ä—ã</button>
            <button onclick="window.location.href = 'clicker.html'"><img src="shit/game2.png">–ö–ª–∏–∫–µ—Ä</button>
            <button onclick="window.location.href = 'tetris.html'"><img src="shit/tetris.png">–¢–µ—Ç—Ä–∏—Å</button>
            <img src="shit/–ø–æ–ª–æ—Å–∞4.png" alt="" width="100%">

            <h3>–í–∞—à–∞ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</h3>

            <ul>
                <li><a href="playlists.html">–°–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã</a></li>
                <li><a href="playlist1.html">–ü–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è –ø–µ—Å–Ω–∏</a></li>
                <li><a href="playlists.html">–ê–ª—å–±–æ–º—ã</a></li>
                <li><a href="playlists.html">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏</a></li>
                <li><a href="playlists.html">–ü–æ–¥–∫–∞—Å—Ç—ã</a></li>
            </ul>

            <div>
                <br><br><br>
                <br><br><br>
                <br><br><br>
            </div>

        </div>

        <script –í–µ—Ä—Ö–Ω—è—è –∏ –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª–∏>
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –±—É—Ä–≥–µ—Ä–Ω–æ–≥–æ –º–µ–Ω—é
            document.querySelector('.burger-menu-button').addEventListener('click', toggleSidebar);

            document.addEventListener('DOMContentLoaded', function () {
                var burgerButton = document.querySelector('.burger-menu-button');
                var sidebar = document.querySelector('.sidebar');

                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
                burgerButton.addEventListener('click', function () {
                    sidebar.classList.toggle('active-menu');
                });

                // –°–∫—Ä—ã—Ç–∏–µ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é
                var sidebarLinks = document.querySelectorAll('.sidebar button');
                sidebarLinks.forEach(function (link) {
                    link.addEventListener('click', function () {
                        sidebar.classList.remove('active-menu');
                    });
                });
            });

            function toggleSidebar() {
                var sidebar = document.querySelector('.sidebar');
                if (sidebar) {
                    sidebar.classList.toggle('active-menu');
                }
            }

            function toggleSearch() {
                var searchInput = document.getElementById('search-input');
            }

            /* –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å, —á—Ç–æ–±—ã –º–µ–Ω—é —Å–∫—Ä—ã–≤–∞–ª–æ—Å—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é. */
            var sidebarLinks = document.querySelectorAll('.sidebar button');
            sidebarLinks.forEach(function (link) {
                link.addEventListener('click', function () {
                    var sidebar = document.querySelector('.sidebar');
                    sidebar.classList.remove('active-menu');
                });
            });

        </script>
    </div>

    <!-- --------------------------+
    |   –í–µ—Ä—Ö–Ω—è—è –∏ –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª–∏   |
    +--------------------------- -->

    <!-- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë-  ‚Üë -->
    <!-- ----------------------------------------------------------- -->
    <!-- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì-  ‚Üì -->

    <title>–¢–µ—Ç—Ä–∏—Å</title>

    <style>
        /*–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–∏–ª–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã*/
        html,
        body {
            height: 100%;
            margin: 0;
        }

        /*–¥–µ–ª–∞–µ–º —á—ë—Ä–Ω—ã–π —Ñ–æ–Ω –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –≤—Å—ë –ø–æ —Ü–µ–Ω—Ç—Ä—É*/
        body {
            background: black;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        /*—Ç–æ–ª—â–∏–Ω–∞ —Ö–æ–ª—Å—Ç–∞ ‚Äî 1 –ø–∏–∫—Å–µ–ª—å, –±–µ–ª—ã–π —Ü–≤–µ—Ç*/
        canvas {
            border: 1px solid white;
        }

        #score {
            color: white;
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        #pause-button {
            background-color: white;
            color: black;
            font-size: 23px;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            margin-top: 20px;
        }
    </style>

    <!-- —Ä–∏—Å—É–µ–º –ø–æ–ª–µ –¥–ª—è –∏–≥—Ä—ã -->
    <div id="score">–°—á–µ—Ç: 0</div>
    <canvas width="320" height="640" id="game"></canvas>
    <button onclick="togglePause()" id="pause-button">–ü–∞—É–∑–∞</button>

    <script>
        let score = 0;
        // License CC0 1.0 Universal 
        // https://gist.github.com/straker/3c98304f8a6a9174efd8292800891ea1
        // https://tetris.fandom.com/wiki/Tetris_Guideline

        // –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ —Ö–æ–ª—Å—Ç—É
        const canvas = document.getElementById('game');
        const context = canvas.getContext('2d');
        // —Ä–∞–∑–º–µ—Ä –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∞
        const grid = 32;
        // –º–∞—Å—Å–∏–≤ —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏ —Ñ–∏–≥—É—Ä, –Ω–∞ —Å—Ç–∞—Ä—Ç–µ ‚Äî –ø—É—Å—Ç–æ–π
        var tetrominoSequence = [];

        // —Å –ø–æ–º–æ—â—å—é –¥–≤—É–º–µ—Ä–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ —Å–ª–µ–¥–∏–º –∑–∞ —Ç–µ–º, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
        // —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è ‚Äî 10 –Ω–∞ 20, –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –µ—â—ë –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç—å—é
        var playfield = [];

        // –∑–∞–ø–æ–ª–Ω—è–µ–º —Å—Ä–∞–∑—É –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç—ã–º–∏ —è—á–µ–π–∫–∞–º–∏
        for (let row = -2; row < 20; row++) {
            playfield[row] = [];

            for (let col = 0; col < 10; col++) {
                playfield[row][col] = 0;
            }
        }

        // –∫–∞–∫ —Ä–∏—Å–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é —Ñ–∏–≥—É—Ä—É
        // https://tetris.fandom.com/wiki/SRS
        const tetrominos = {
            'I': [
                [0, 0, 0, 0],
                [1, 1, 1, 1],
                [0, 0, 0, 0],
                [0, 0, 0, 0]
            ],
            'J': [
                [1, 0, 0],
                [1, 1, 1],
                [0, 0, 0],
            ],
            'L': [
                [0, 0, 1],
                [1, 1, 1],
                [0, 0, 0],
            ],
            'O': [
                [1, 1],
                [1, 1],
            ],
            'S': [
                [0, 1, 1],
                [1, 1, 0],
                [0, 0, 0],
            ],
            'Z': [
                [1, 1, 0],
                [0, 1, 1],
                [0, 0, 0],
            ],
            'T': [
                [0, 1, 0],
                [1, 1, 1],
                [0, 0, 0],
            ]
        };

        // —Ü–≤–µ—Ç –∫–∞–∂–¥–æ–π —Ñ–∏–≥—É—Ä—ã
        const colors = {
            'I': 'cyan',
            'O': 'yellow',
            'T': 'purple',
            'S': 'green',
            'Z': 'red',
            'J': 'blue',
            'L': 'orange'
        };

        // —Å—á—ë—Ç—á–∏–∫
        let count = 0;
        // —Ç–µ–∫—É—â–∞—è —Ñ–∏–≥—É—Ä–∞ –≤ –∏–≥—Ä–µ
        let tetromino = getNextTetromino();
        // —Å–ª–µ–¥–∏–º –∑–∞ –∫–∞–¥—Ä–∞–º–∏ –∞–Ω–∏–º–∞—Ü–∏–∏, —á—Ç–æ–±—ã –µ—Å–ª–∏ —á—Ç–æ ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–≥—Ä—É
        let rAF = null;
        // —Ñ–ª–∞–≥ –∫–æ–Ω—Ü–∞ –∏–≥—Ä—ã, –Ω–∞ —Å—Ç–∞—Ä—Ç–µ ‚Äî –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π
        let gameOver = false;

        let isPaused = false;

        function togglePause() {
            isPaused = !isPaused;
            if (isPaused) {
                cancelAnimationFrame(rAF);
                document.getElementById('pause-button').innerHTML = '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å';
            } else {
                rAF = requestAnimationFrame(loop);
                document.getElementById('pause-button').innerHTML = '–ü–∞—É–∑–∞';
            }
        }

        // –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ loop –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø–∞—É–∑—É:
        if (!isPaused) {
            // –∑–¥–µ—Å—å –≤–µ—Å—å –∫–æ–¥ –∞–Ω–∏–º–∞—Ü–∏–∏
        }

        // –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
        // https://stackoverflow.com/a/1527820/2124254
        function getRandomInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);

            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // —Å–æ–∑–¥–∞—ë–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–≥—É—Ä, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—è–≤–∏—Ç—Å—è –≤ –∏–≥—Ä–µ
        //https://tetris.fandom.com/wiki/Random_Generator
        function generateSequence() {
            // —Ç—É—Ç ‚Äî —Å–∞–º–∏ —Ñ–∏–≥—É—Ä—ã
            const sequence = ['I', 'J', 'L', 'O', 'S', 'T', 'Z'];

            while (sequence.length) {
                // —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –Ω–∞—Ö–æ–¥–∏–º –ª—é–±—É—é –∏–∑ –Ω–∏—Ö
                const rand = getRandomInt(0, sequence.length - 1);
                const name = sequence.splice(rand, 1)[0];
                // –ø–æ–º–µ—â–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ñ–∏–≥—É—Ä—É –≤ –∏–≥—Ä–æ–≤–æ–π –º–∞—Å—Å–∏–≤ —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏
                tetrominoSequence.push(name);
            }
        }

        // –ø–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é —Ñ–∏–≥—É—Ä—É
        function getNextTetromino() {
            // –µ—Å–ª–∏ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ—Ç ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º
            if (tetrominoSequence.length === 0) {
                generateSequence();
            }
            // –±–µ—Ä—ë–º –ø–µ—Ä–≤—É—é —Ñ–∏–≥—É—Ä—É –∏–∑ –º–∞—Å—Å–∏–≤–∞
            const name = tetrominoSequence.pop();
            // —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞—ë–º –º–∞—Ç—Ä–∏—Ü—É, —Å –∫–æ—Ç–æ—Ä–æ–π –º—ã –æ—Ç—Ä–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É
            const matrix = tetrominos[name];

            // I –∏ O —Å—Ç–∞—Ä—Ç—É—é—Ç —Å —Å–µ—Ä–µ–¥–∏–Ω—ã, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —á—É—Ç—å –ª–µ–≤–µ–µ
            const col = playfield[0].length / 2 - Math.ceil(matrix[0].length / 2);

            // I –Ω–∞—á–∏–Ω–∞–µ—Ç —Å 21 —Å—Ç—Ä–æ–∫–∏ (—Å–º–µ—â–µ–Ω–∏–µ -1), –∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —Å–æ —Å—Ç—Ä–æ–∫–∏ 22 (—Å–º–µ—â–µ–Ω–∏–µ -2)
            const row = name === 'I' ? -1 : -2;

            // –≤–æ—Ç —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è 
            return {
                name: name,      // –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–≥—É—Ä—ã (L, O, –∏ —Ç.–¥.)
                matrix: matrix,  // –º–∞—Ç—Ä–∏—Ü–∞ —Å —Ñ–∏–≥—É—Ä–æ–π
                row: row,        // —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ (—Ñ–∏–≥—É—Ä—ã —Å—Ç–∞—Ä—Ç—É—é –∑–∞ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç—å—é —Ö–æ–ª—Å—Ç–∞)
                col: col         // —Ç–µ–∫—É—â–∏–π —Å—Ç–æ–ª–±–µ—Ü
            };
        }

        // –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –º–∞—Ç—Ä–∏—Ü—É –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤
        // https://codereview.stackexchange.com/a/186834
        function rotate(matrix) {
            const N = matrix.length - 1;
            const result = matrix.map((row, i) =>
                row.map((val, j) => matrix[N - j][i])
            );
            // –Ω–∞ –≤—Ö–æ–¥–µ –º–∞—Ç—Ä–∏—Ü–∞, –∏ –Ω–∞ –≤—ã—Ö–æ–¥–µ —Ç–æ–∂–µ –æ—Ç–¥–∞—ë–º –º–∞—Ç—Ä–∏—Ü—É
            return result;
        }

        // –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –∏–ª–∏ –≤—Ä–∞—â–µ–Ω–∏—è, –º–æ–∂–µ—Ç –ª–∏ –º–∞—Ç—Ä–∏—Ü–∞ (—Ñ–∏–≥—É—Ä–∞) –±—ã—Ç—å –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ –ø–æ–ª—è –∏–ª–∏ –æ–Ω–∞ –≤—ã–ª–µ–∑–µ—Ç –∑–∞ –µ–≥–æ –≥—Ä–∞–Ω–∏—Ü—ã
        function isValidMove(matrix, cellRow, cellCol) {
            // –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü—ã
            for (let row = 0; row < matrix.length; row++) {
                for (let col = 0; col < matrix[row].length; col++) {
                    if (matrix[row][col] && (
                        // –µ—Å–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—è‚Ä¶
                        cellCol + col < 0 ||
                        cellCol + col >= playfield[0].length ||
                        cellRow + row >= playfield.length ||
                        // ‚Ä¶–∏–ª–∏ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ —Ñ–∏–≥—É—Ä–∞–º–∏
                        playfield[cellRow + row][cellCol + col])
                    ) {
                        // —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º, —á—Ç–æ –Ω–µ—Ç, —Ç–∞–∫ –Ω–µ –ø–æ–π–¥—ë—Ç
                        return false;
                    }
                }
            }
            // –∞ –µ—Å–ª–∏ –º—ã –¥–æ—à–ª–∏ –¥–æ —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –∏ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Ä–∞–Ω—å—à–µ ‚Äî —Ç–æ –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ
            return true;
        }

        // –∫–æ–≥–¥–∞ —Ñ–∏–≥—É—Ä–∞ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–∞ –≤—Å—Ç–∞–ª–∞ –Ω–∞ —Å–≤–æ—ë –º–µ—Å—Ç–æ
        function placeTetromino() {
            // –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü—ã –≤ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ
            for (let row = 0; row < tetromino.matrix.length; row++) {
                for (let col = 0; col < tetromino.matrix[row].length; col++) {
                    if (tetromino.matrix[row][col]) {

                        // –µ—Å–ª–∏ –∫—Ä–∞–π —Ñ–∏–≥—É—Ä—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–ª–µ–∑–∞–µ—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—è, —Ç–æ –∏–≥—Ä–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å
                        if (tetromino.row + row < 0) {
                            return showGameOver();
                        }
                        // –µ—Å–ª–∏ –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ, —Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –º–∞—Å—Å–∏–≤ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –Ω–∞—à—É —Ñ–∏–≥—É—Ä—É
                        playfield[tetromino.row + row][tetromino.col + col] = tetromino.name;
                    }
                    const linesCleared = clearLines();
                    if (linesCleared > 0) {
                        // —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—á–∏—â–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
                    }
                }
            }

            // –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä—è–¥—ã –æ—á–∏—Å—Ç–∏–ª–∏—Å—å —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö
            for (let row = playfield.length - 1; row >= 0;) {
                // –µ—Å–ª–∏ —Ä—è–¥ –∑–∞–ø–æ–ª–Ω–µ–Ω
                if (playfield[row].every(cell => !!cell)) {

                    // –æ—á–∏—â–∞–µ–º –µ–≥–æ –∏ –æ–ø—É—Å–∫–∞–µ–º –≤—Å—ë –≤–Ω–∏–∑ –Ω–∞ –æ–¥–Ω—É –∫–ª–µ—Ç–∫—É
                    for (let r = row; r >= 0; r--) {
                        for (let c = 0; c < playfield[r].length; c++) {
                            playfield[r][c] = playfield[r - 1][c];
                        }
                    }
                }
                else {
                    // –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä—è–¥—É
                    row--;
                }
            }
            // –ø–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é —Ñ–∏–≥—É—Ä—É
            tetromino = getNextTetromino();
        }

        // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–¥–ø–∏—Å—å Game Over
        function showGameOver() {
            // –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—Å—é –∞–Ω–∏–º–∞—Ü–∏—é –∏–≥—Ä—ã
            cancelAnimationFrame(rAF);
            // —Å—Ç–∞–≤–∏–º —Ñ–ª–∞–≥ –æ–∫–æ–Ω—á–∞–Ω–∏—è
            gameOver = true;
            // —Ä–∏—Å—É–µ–º —á—ë—Ä–Ω—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ –ø–æ–ª—è
            context.fillStyle = 'black';
            context.globalAlpha = 0.75;
            context.fillRect(0, canvas.height / 2 - 30, canvas.width, 60);
            // –ø–∏—à–µ–º –Ω–∞–¥–ø–∏—Å—å –±–µ–ª—ã–º –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º –ø–æ —Ü–µ–Ω—Ç—Ä—É
            context.globalAlpha = 1;
            context.fillStyle = 'white';
            context.font = '36px monospace';
            context.textAlign = 'center';
            context.textBaseline = 'middle';
            context.fillText('GAME OVER!', canvas.width / 2, canvas.height / 2);
        }

        function clearLines() {
            let linesCleared = 0;
            for (let row = playfield.length - 1; row >= 0;) {
                // –µ—Å–ª–∏ —Ä—è–¥ –∑–∞–ø–æ–ª–Ω–µ–Ω
                if (playfield[row].every(cell => !!cell)) {
                    // —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç
                    score += 1;
                    linesCleared++;

                    // –æ—á–∏—â–∞–µ–º —Ä—è–¥ –∏ —Å–¥–≤–∏–≥–∞–µ–º –≤—Å–µ —Ä—è–¥—ã –≤—ã—à–µ –Ω–∞ –æ–¥–Ω—É –∫–ª–µ—Ç–∫—É
                    playfield.splice(row, 1);
                    playfield.unshift(Array(10).fill(0));
                } else {
                    // –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä—è–¥—É
                    row--;
                }
            }
            updateScore();
            return linesCleared;
        }

        // –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã
        function loop() {
            // –Ω–∞—á–∏–Ω–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
            rAF = requestAnimationFrame(loop);
            // –æ—á–∏—â–∞–µ–º —Ö–æ–ª—Å—Ç
            context.clearRect(0, 0, canvas.width, canvas.height);

            // —Ä–∏—Å—É–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ —Å —É—á—ë—Ç–æ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ñ–∏–≥—É—Ä
            for (let row = 0; row < 20; row++) {
                for (let col = 0; col < 10; col++) {
                    if (playfield[row][col]) {
                        const name = playfield[row][col];
                        context.fillStyle = colors[name];

                        // —Ä–∏—Å—É–µ–º –≤—Å—ë –Ω–∞ –æ–¥–∏–Ω –ø–∏–∫—Å–µ–ª—å –º–µ–Ω—å—à–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏–ª—Å—è —ç—Ñ—Ñ–µ–∫—Ç ¬´–≤ –∫–ª–µ—Ç–∫—É¬ª
                        context.fillRect(col * grid, row * grid, grid - 1, grid - 1);
                    }
                }
            }

            // —Ä–∏—Å—É–µ–º —Ç–µ–∫—É—â—É—é —Ñ–∏–≥—É—Ä—É
            if (tetromino) {

                // —Ñ–∏–≥—É—Ä–∞ —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –≤–Ω–∏–∑ –∫–∞–∂–¥—ã–µ 35 –∫–∞–¥—Ä–æ–≤
                if (++count > 35) {
                    tetromino.row++;
                    count = 0;

                    // –µ—Å–ª–∏ –¥–≤–∏–∂–µ–Ω–∏–µ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å ‚Äî —Ä–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É –≤ –ø–æ–ª–µ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫–∏
                    if (!isValidMove(tetromino.matrix, tetromino.row, tetromino.col)) {
                        tetromino.row--;
                        placeTetromino();
                    }
                }

                // –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –ø—Ä–æ —Ü–≤–µ—Ç —Ç–µ–∫—É—â–µ–π —Ñ–∏–≥—É—Ä—ã
                context.fillStyle = colors[tetromino.name];

                // –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –µ—ë
                for (let row = 0; row < tetromino.matrix.length; row++) {
                    for (let col = 0; col < tetromino.matrix[row].length; col++) {
                        if (tetromino.matrix[row][col]) {

                            // –∏ —Å–Ω–æ–≤–∞ —Ä–∏—Å—É–µ–º –Ω–∞ –æ–¥–∏–Ω –ø–∏–∫—Å–µ–ª—å –º–µ–Ω—å—à–µ
                            context.fillRect((tetromino.col + col) * grid, (tetromino.row + row) * grid, grid - 1, grid - 1);
                        }
                    }
                }
            }
        }

        function updateScore() {
            document.getElementById('score').innerHTML = '–°—á–µ—Ç: ' + score;
        }
        updateScore();

        // —Å–ª–µ–¥–∏–º –∑–∞ –Ω–∞–∂–∞—Ç–∏—è–º–∏ –Ω–∞ –∫–ª–∞–≤–∏—à–∏
        document.addEventListener('keydown', function (e) {
            // –µ—Å–ª–∏ –∏–≥—Ä–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å ‚Äî —Å—Ä–∞–∑—É –≤—ã—Ö–æ–¥–∏–º
            if (gameOver) return;

            // —Å—Ç—Ä–µ–ª–∫–∏ –≤–ª–µ–≤–æ –∏ –≤–ø—Ä–∞–≤–æ
            if (e.which === 37 || e.which === 39) {
                const col = e.which === 37
                    // –µ—Å–ª–∏ –≤–ª–µ–≤–æ, —Ç–æ —É–º–µ–Ω—å—à–∞–µ–º –∏–Ω–¥–µ–∫—Å –≤ —Å—Ç–æ–ª–±—Ü–µ, –µ—Å–ª–∏ –≤–ø—Ä–∞–≤–æ ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º
                    ? tetromino.col - 1
                    : tetromino.col + 1;

                // –µ—Å–ª–∏ —Ç–∞–∫ —Ö–æ–¥–∏—Ç—å –º–æ–∂–Ω–æ, —Ç–æ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º —Ç–µ–∫—É—â–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ 
                if (isValidMove(tetromino.matrix, tetromino.row, col)) {
                    tetromino.col = col;
                }
            }

            // —Å—Ç—Ä–µ–ª–∫–∞ –≤–≤–µ—Ä—Ö ‚Äî –ø–æ–≤–æ—Ä–æ—Ç
            if (e.which === 38) {
                // –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Ñ–∏–≥—É—Ä—É –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤
                const matrix = rotate(tetromino.matrix);
                // –µ—Å–ª–∏ —Ç–∞–∫ —Ö–æ–¥–∏—Ç—å –º–æ–∂–Ω–æ ‚Äî –∑–∞–ø–æ–º–∏–Ω–∞–µ–º
                if (isValidMove(matrix, tetromino.row, tetromino.col)) {
                    tetromino.matrix = matrix;
                }
            }

            // —Å—Ç—Ä–µ–ª–∫–∞ –≤–Ω–∏–∑ ‚Äî —É—Å–∫–æ—Ä–∏—Ç—å –ø–∞–¥–µ–Ω–∏–µ
            if (e.which === 40) {
                // —Å–º–µ—â–∞–µ–º —Ñ–∏–≥—É—Ä—É –Ω–∞ —Å—Ç—Ä–æ–∫—É –≤–Ω–∏–∑
                const row = tetromino.row + 1;
                // –µ—Å–ª–∏ –æ–ø—É—Å–∫–∞—Ç—å—Å—è –±–æ–ª—å—à–µ –Ω–µ–∫—É–¥–∞ ‚Äî –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –Ω–æ–≤–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
                if (!isValidMove(tetromino.matrix, row, tetromino.col)) {
                    tetromino.row = row - 1;
                    // —Å—Ç–∞–≤–∏–º –Ω–∞ –º–µ—Å—Ç–æ –∏ —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä—è–¥—ã
                    placeTetromino();
                    return;
                }
                // –∑–∞–ø–æ–º–∏–Ω–∞–µ–º —Å—Ç—Ä–æ–∫—É, –∫—É–¥–∞ —Å—Ç–∞–ª–∞ —Ñ–∏–≥—É—Ä–∞
                tetromino.row = row;
            }
        });

        // —Å—Ç–∞—Ä—Ç –∏–≥—Ä—ã
        rAF = requestAnimationFrame(loop);
    </script>

    <!-- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë- ‚Üë-  ‚Üë -->
    <!-- ----------------------------------------------------------- -->
    <!-- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì- ‚Üì-  ‚Üì -->
    <script —Å–∫—Ä–∏–ø—Ç—ã>

        const audioPlayer = document.querySelector('.audio-player');
        const currentTimeDisplay = document.querySelector('.current-time');
        const durationDisplay = document.querySelector('.duration-time');
        let currentAudioTime = 0;
        var currentTrackIndex = 0;
        var isPlaying = false;  // –ù–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
        var tracks = Array.from(document.querySelectorAll('.audio-player'));
        var audioPlayers = document.querySelectorAll('.audio-player'); // –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–æ –≤ –Ω–∞—á–∞–ª–µ
        var currentTrackNumber = 1;
        var totalTracks = 9; // –£–∫–∞–∂–∏—Ç–µ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–∫–æ–≤


        var progressBar = document.querySelector('.progress-bar');
        function resetTracks() {
            tracks.forEach(function (track, index) {
                if (index !== currentTrackIndex) {
                    track.pause();
                    track.currentTime = 0;
                }
            });
        }

        function formatTime(seconds) {
            const minute = Math.floor(seconds / 60);
            const secondLeft = Math.floor(seconds - minute * 60);
            return `${minute}:${(secondLeft < 10 ? '0' : '') + secondLeft}`;
        }

        function updateTimeDisplay() {
            var currentTimeDisplay = document.querySelector('.current-time');
            var durationDisplay = document.querySelector('.duration-time');

            if (tracks[currentTrackIndex].duration) {
                currentTimeDisplay.textContent = formatTime(currentAudioTime);
                durationDisplay.textContent = formatTime(tracks[currentTrackIndex].duration);
            }
        }

        progressBar.addEventListener('input', (e) => {
            const audioPlayer = document.querySelector('.audio-player');
            const duration = audioPlayer.duration;
            if (duration > 0) {
                const value = e.target.value;
                const currentTime = (duration * value) / 100;
                audioPlayer.currentTime = currentTime;
            }
        });

        audioPlayer.addEventListener('timeupdate', () => {
            const progressBar = document.querySelector('.progress-bar');
            const duration = audioPlayer.duration;
            const currentTime = audioPlayer.currentTime;
            if (duration > 0) {
                const value = (100 / duration) * currentTime;
                progressBar.value = value;
            }
            currentAudioTime = currentTime; // Update currentAudioTime here
            updateTimeDisplay();
        });

        function playTrack(index) {
            tracks.forEach(function (track) {
                track.pause();
                track.currentTime = 0;
            });

            currentAudioTime = tracks[index].currentTime; // Update currentAudioTime here

            currentTrackIndex = index;

            tracks[currentTrackIndex].play();

            // Update the current time of the audio player to the current time of the new track
            tracks[currentTrackIndex].currentTime = currentAudioTime;

            updateTrackInfo(currentTrackIndex);
            updateProgressBar(currentTrackIndex);
            updateTimeDisplay();

            tracks[currentTrackIndex].onloadedmetadata = function () {
                updateTimeDisplay();
            };
        }

        audioPlayer.addEventListener('ended', function () {
            currentAudioTime = 0; // Reset currentAudioTime when the track ends
            nextTrack();
        });

        tracks.forEach(function (track) {
            track.addEventListener('timeupdate', function () {
                var value = (100 / track.duration) * track.currentTime;
                progressBar.value = value;
            });
        });

        updatePlayPauseButton();

        function prevTrack() {
            tracks[currentTrackIndex].pause();
            tracks[currentTrackIndex].currentTime = 0;

            currentTrackIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;

            playTrack(currentTrackIndex);

            updatePlayPauseButton();
        }

        function nextTrack() {
            tracks[currentTrackIndex].pause();
            tracks[currentTrackIndex].currentTime = 0;

            currentTrackIndex = (currentTrackIndex + 1) % tracks.length;

            playTrack(currentTrackIndex);

            updatePlayPauseButton();
        }

        function changeTrack(trackPath) {
            audioPlayer.src = trackPath;
            togglePlay(); // –ù–∞—á–∏–Ω–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
        }

        document.querySelector('.progress-bar').addEventListener('input', function (e) {
            var duration = audioPlayer.duration;
            if (duration > 0) {
                var value = e.target.value;
                var currentTime = (duration * value) / 100;
                audioPlayer.currentTime = currentTime;
            }
        });

        function updateTrackInfo(index) {
            var trackInfoTitle = document.querySelector('.track-current-title');
            var trackInfoArtist = document.querySelector('.track-current-artist');
            var trackInfoImage = document.querySelector('.track-current-img');

            var title = '–¢—Ä–µ–∫ ' + (index + 1); // –ü–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞
            var artist = '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å ' + (index + 1); // –ü–æ–ª—É—á–∞–µ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

            trackInfoTitle.textContent = title;
            trackInfoArtist.textContent = artist;
            trackInfoImage.src = "path-to-image-for-track.jpg"; // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é —Ç—Ä–µ–∫–∞
            updateTimeDisplay();
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ —Ç—Ä–µ–∫–∞
        function updateProgressBar(index) {
            var track = tracks[currentTrackIndex];

            track.addEventListener('loadedmetadata', function () {
                progressBar.max = track.duration;
            });

            track.addEventListener('timeupdate', function () {
                var value = (100 / track.duration) * track.currentTime;
                progressBar.value = value;
            });
        }

        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏—è –Ω–∞ progressBar
        progressBar.addEventListener('input', function (e) {
            var track = tracks[currentTrackIndex];
            if (track.duration > 0) {
                var value = e.target.value;
                track.currentTime = (track.duration * value) / 100;
            }
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
        function setVolume(volume) {
            tracks.forEach(function (track) {
                track.volume = volume;
            });
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–æ–ª–∑—É–Ω–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é setVolume
        document.getElementById('volume-slider').addEventListener('input', function (e) {
            setVolume(e.target.value);
        });

        function toggleMute() {
            var isMuted = tracks[currentTrackIndex].muted;
            tracks[currentTrackIndex].muted = !isMuted;
            // –û–±–Ω–æ–≤–∏—Ç–µ –∏–∫–æ–Ω–∫—É –∑–≤—É–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è mute
            var muteButton = document.querySelector('.center button');

        }

        // –û–±—ä—è–≤–ª–µ–Ω–∏–µ setVolumeToHalf
        function setVolumeToHalf() {
            var audioPlayers = document.querySelectorAll('.audio-player');
            audioPlayers.forEach(function (audio) {
                audio.volume = 0.1; // 50% –æ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
            });
        }
    </script>

</body>

</html>